n=11;
n1=9;
n2=3;
n3=1;
n4=3;
rand("seed",9313);
T = rand(11,11) + rand(11, 11);
A = floor((1.0 - n3 *0.01 - n4 *0.005 - 0.05)*T)
Wt = round(rand(n,n)*100 .* A);
B = Wt & ones(n,n);
Wt = (bool2s(B & ~B') + bool2s(B & B') .* tril(ones(n,n),-1)) .* Wt;
W = Wt + Wt'


//output
A  =
    0.    0.    1.    1.    0.    0.    0.    0.    1.    1.    1.  
    1.    1.    0.    0.    1.    0.    0.    0.    1.    1.    1.  
    1.    0.    1.    0.    1.    0.    0.    1.    1.    0.    0.  
    0.    0.    0.    1.    1.    1.    0.    1.    1.    1.    1.  
    0.    0.    0.    1.    1.    0.    1.    0.    0.    0.    0.  
    0.    0.    0.    1.    0.    1.    1.    0.    1.    1.    0.  
    1.    0.    0.    1.    0.    1.    0.    1.    0.    0.    0.  
    0.    0.    1.    1.    1.    1.    0.    0.    0.    1.    1.  
    1.    1.    0.    1.    1.    0.    1.    1.    1.    1.    0.  
    0.    1.    0.    0.    0.    1.    0.    0.    0.    1.    1.  
    1.    0.    1.    0.    0.    0.    1.    0.    1.    0.    1.  


W  =
    0.     89.    5.     53.    0.     0.     92.    0.     90.    55.    69.  
    89.    0.     0.     0.     41.    0.     0.     0.     15.    63.    41.  
    5.     0.     0.     0.     39.    0.     0.     5.     80.    0.     68.  
    53.    0.     0.     0.     25.    8.     50.    48.    6.     79.    98.  
    0.     41.    39.    25.    0.     0.     60.    15.    66.    0.     0.   
    0.     0.     0.     8.     0.     0.     3.     56.    61.    69.    0.   
    92.    0.     0.     50.    60.    3.     0.     13.    14.    0.     31.  
    0.     0.     5.     48.    15.    56.    13.    0.     86.    81.    67.  
    90.    15.    80.    6.     66.    61.    14.    86.    0.     44.    44.  
    55.    63.    0.     79.    0.     69.    0.     81.    44.    0.     62.  
    69.    41.    68.    98.    0.     0.     31.    67.    44.    62.    0.